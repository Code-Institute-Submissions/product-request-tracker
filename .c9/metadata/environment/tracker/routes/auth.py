{"filter":false,"title":"auth.py","tooltip":"/tracker/routes/auth.py","undoManager":{"mark":1,"position":1,"stack":[[{"start":{"row":7,"column":0},"end":{"row":53,"column":42},"action":"remove","lines":["auth = Blueprint('auth', __name__)","","@auth.route('/login', methods=['GET', 'POST'])","def login():","    if request.method == 'POST':","        username = request.form['username']","        password = request.form['password']","","        user = User.query.filter_by(username=username).first()","","        if not user or not check_password_hash(user.password, password):","            flash('The username or password entered is incorrect!', 'error')","            return redirect(url_for('auth.login'))","            ","        else:","            login_user(user)","            return redirect(url_for('main.index'))","","    return render_template('login.html')","","","@auth.route('/register', methods=['GET', 'POST'])","def register():","    if request.method == 'POST':","        username = request.form['username']","        unhashed_password = request.form['password']","        user_type = request.form['user_type']","","        user = User(","            username=username,","            unhashed_password=unhashed_password,","            admin = True if int(user_type) == 1 else False,","            user_type=int(user_type))","","        db.session.add(user)","        db.session.commit()","","        return redirect(url_for('auth.login'))","","    return render_template('register.html')","","","@auth.route(\"/logout\")","def logout():","    logout_user()","    flash('You have successfully been logged out', 'success')","    return redirect(url_for('main.index'))"],"id":34},{"start":{"row":7,"column":0},"end":{"row":55,"column":0},"action":"insert","lines":["auth = Blueprint('auth', __name__)","","","@auth.route('/login', methods=['GET', 'POST'])","def login():","    if request.method == 'POST':","        username = request.form['username']","        password = request.form['password']","","        user = User.query.filter_by(username=username).first()","","        if not user or not check_password_hash(user.password, password):","            flash('The username or password entered is incorrect!',","                  'error')","            return redirect(url_for('auth.login'))","        else:","","            login_user(user)","            return redirect(url_for('main.index'))","","    return render_template('login.html')","","","@auth.route('/register', methods=['GET', 'POST'])","def register():","    if request.method == 'POST':","        username = request.form['username']","        unhashed_password = request.form['password']","        user_type = request.form['user_type']","","        user = User(username=username,","                    unhashed_password=unhashed_password,","                    admin=(True if int(user_type) == 1 else False),","                    user_type=int(user_type))","","        db.session.add(user)","        db.session.commit()","","        return redirect(url_for('auth.login'))","","    return render_template('register.html')","","","@auth.route('/logout')","def logout():","    logout_user()","    flash('You have successfully been logged out', 'success')","    return redirect(url_for('main.index'))",""]}],[{"start":{"row":6,"column":0},"end":{"row":7,"column":0},"action":"insert","lines":["",""],"id":35}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":12,"column":12},"end":{"row":12,"column":12},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1579611194923,"hash":"b3a8fa255a7a3c9e1bf730dcbad453b5f9151e6d"}